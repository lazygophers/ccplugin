---
name: complete
description: 完成任务 - 将任务从 in-progress.md 移动到 done.md
---

# 完成任务

当任务的所有验收标准都满足时，将其从进行中状态转移到已完成状态。

## 工作流程

### 第 1 步：确认完成

检查所有验收标准都已勾选：

```markdown
- [x] 标准 1
- [x] 标准 2
- [x] 标准 3
```

### 第 2 步：准备信息

收集完成说明和交付物：

```markdown
- **说明**: 实现方式或解决方案总结
- **关键交付物**: PR、Commit、文档等
```

### 第 3 步：移动任务

1. 从 `@.claude/task/in-progress.md` 复制任务
2. 删除原任务
3. 粘贴到 `@.claude/task/done.md`

### 第 4 步：更新完成信息

```markdown
### [P{N}] TASK-{编号} {任务标题} ✓

- **类别**: {类别}
- **说明**: {完成说明}
- **验收标准完成情况**:
  - [x] 标准 1 - 完成方式
  - [x] 标准 2 - 完成方式
- **关键交付物**:
  - PR #123 或 Commit hash
  - 文档链接
```

## 完成示例

### 功能开发完成

```markdown
### [P1] TASK-001 实现用户认证 API ✓

- **类别**: feature
- **说明**: 完成了基于 JWT 的认证系统，包括注册、登录、刷新三个 API 端点。所有验收标准都已满足，单元测试覆盖率 87%。
- **验收标准完成情况**:
  - [x] 实现用户注册 API - 完成，支持邮箱验证
  - [x] 实现用户登录 API - 完成，返回 JWT
  - [x] 实现令牌刷新 API - 完成
  - [x] 编写单元测试 - 完成，87% 覆盖率
- **关键交付物**:
  - PR #234 - https://github.com/project/pull/234
  - 文档：docs/api/authentication.md
```

### Bug 修复完成

```markdown
### [P2] TASK-042 修复用户登录超时问题 ✓

- **类别**: bug
- **说明**: 根本原因是数据库连接池超时配置（30s）过短。将其调整到 300s 并添加连接检测机制。压力测试通过，问题已解决。
- **验收标准完成情况**:
  - [x] 重现问题 - 已在开发环境重现
  - [x] 定位根本原因 - 连接池配置问题
  - [x] 实现修复 - 调整超时时间
  - [x] 验证修复 - 压力测试通过
- **关键交付物**:
  - Commit: a1b2c3d
  - PR #235
```

## 归档任务

当 `done.md` 中超过 5 个任务时，归档到 `@.claude/task/archive/`：

1. 在 `archive/` 中创建相应的项目/模块文件
2. 从 `done.md` 移动任务到对应的归档文件
3. 保持 `done.md` 简洁（3-5 个任务）

## 完成前检查

- [ ] 所有验收标准都标记为完成
- [ ] 完成说明清晰准确
- [ ] 所有交付物都已列出
- [ ] 代码已提交或 PR 已创建
- [ ] 相关的问题已关闭

## 相关资源

- **任务规范**：[@/task:task-skills/reference.md](../../skills/task-skills/reference.md) - 完整的字段定义
- **完成示例**：[@/task:task-skills/examples/done.md](../../skills/task-skills/examples/done.md) - 实际完成示例
- **快速开始**：[@/task:task-skills/SKILL.md](../../skills/task-skills/SKILL.md) - 任务系统概念

## 最佳实践

✅ 应该做：
- 所有标准都完成后再转移
- 详细记录完成说明
- 定期归档已完成任务

❌ 不应该做：
- 部分完成就标记为完成
- 遗漏交付物信息
- 让 DONE 文件无限增长
