---
name: plans
description: 任务规划 - 规划、分解和组织大型项目的任务列表
---

# 任务规划

系统地规划和分解项目的任务，建立清晰的执行计划。

## 工作流程

### 第 1 步：理解需求

收集和理解项目的需求：

- 项目的核心目标和范围
- 主要功能模块
- 非功能性需求（性能、安全等）
- 交付截止日期和里程碑

### 第 2 步：分解任务

将需求分解为可执行的任务：

```
项目 = 功能模块 1 + 功能模块 2 + 功能模块 3
功能模块 = 任务 1 + 任务 2 + 任务 3
任务 = 子任务 1 + 子任务 2（可选）
```

**分解原则**：
- 每个任务应该在 1-3 天内完成
- 任务应该独立、清晰、可验证
- 识别任务间的依赖关系

### 第 3 步：建立依赖关系

分析任务间的依赖：

```
依赖关系示例：
- 用户注册 → 用户登录 → 密码重置
- 数据库设计 → API 实现 → 前端开发
- 核心功能 → 扩展功能 → 优化和文档
```

**识别方式**：
- 逻辑依赖：B 需要 A 的输出才能开始
- 资源依赖：A 和 B 需要相同的资源
- 时间依赖：A 需要在 B 之前完成

### 第 4 步：确定优先级

基于依赖和业务价值确定优先级：

```
P0 - 紧急，影响项目进度或线上服务
P1 - 高优先级，核心功能或关键路径
P2 - 普通优先级，常规开发任务
P3 - 低优先级，优化、文档或可选功能
```

### 第 5 步：创建任务列表

在 `@.claude/task/todo.md` 中组织任务：

```markdown
# 待完成任务 (TODO)

## 模块 1：用户管理

### [P1] TASK-001 实现用户注册
...

### [P1] TASK-002 实现用户登录
...

## 模块 2：数据导出

### [P2] TASK-003 实现 CSV 导出
...
```

## 规划示例

### 场景：电商后台管理系统

#### 需求分析

```
项目目标：构建电商后台管理系统
范围：用户管理、订单管理、商品管理、数据分析
截止日期：6 周
```

#### 功能分解

```
核心功能：
- 用户管理（注册、登录、权限控制）
- 商品管理（CRUD、分类、库存）
- 订单管理（创建、跟踪、统计）
- 数据分析（报表、导出）

支持功能：
- 认证和授权
- API 文档
- 单元测试
- 性能优化
```

#### 任务规划

```markdown
## 第一阶段：基础设施（第 1-2 周）

### [P1] TASK-001 设置项目框架
- 搭建 API 框架
- 配置数据库
- 设置认证系统

### [P1] TASK-002 实现用户管理 API
- 用户注册、登录
- 权限管理
- 单元测试

## 第二阶段：核心业务（第 3-4 周）

### [P1] TASK-003 实现商品管理 API
- 商品 CRUD
- 分类管理
- 库存管理
- [依赖] TASK-001, TASK-002

### [P1] TASK-004 实现订单管理 API
- 订单创建
- 订单跟踪
- 订单统计
- [依赖] TASK-003

## 第三阶段：增强和优化（第 5-6 周）

### [P2] TASK-005 实现数据分析功能
- 生成报表
- 数据导出
- [依赖] TASK-004

### [P2] TASK-006 性能优化和文档
- API 缓存
- 数据库优化
- 文档编写
```

## 规划检查清单

- [ ] 所有需求都被分解为任务
- [ ] 每个任务都有明确的验收标准
- [ ] 任务粒度合理（1-3 天）
- [ ] 依赖关系准确
- [ ] 优先级合理
- [ ] 关键路径清晰
- [ ] 资源分配充分
- [ ] 里程碑和截止日期明确

## 规划工具和方法

### 工具

- **@.claude/task/** 文件系统 - 存储和管理任务
- **TodoWrite 工具** - 会话内快速规划
- **依赖关系图** - 可视化任务关系

### 方法

- **Work Breakdown Structure (WBS)** - 分层分解
- **Critical Path Method (CPM)** - 确定关键路径
- **Agile Planning** - 迭代规划和调整

## 相关资源

- **任务规范**：[@/task:task-skills/reference.md](../../skills/task-skills/reference.md) - 详细的字段定义
- **快速开始**：[@/task:task-skills/SKILL.md](../../skills/task-skills/SKILL.md) - 任务系统概念
- **完整示例**：[@/task:task-skills/examples/](../../skills/task-skills/examples/) - 真实规划示例
- **项目结构规范**：[@/task:task-skills/](../../skills/task-skills/) - 完整文档

## 最佳实践

✅ 应该做：
- 需求清晰后再规划（避免需求变更）
- 识别关键路径和瓶颈
- 保留 20% 的缓冲时间
- 定期回顾和调整计划

❌ 不应该做：
- 过度规划（足够细致即可）
- 忽视依赖关系
- 分解过小（导致管理成本高）
- 静态计划（需要根据实际调整）
