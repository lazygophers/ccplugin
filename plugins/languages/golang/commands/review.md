---
name: review
description: 代码审查工作流：检查规范、测试覆盖、lint 问题、性能问题
---

# Go 代码审查工作流

执行完整的代码审查流程。

## 审查步骤

### 1. 功能正确性

- [ ] 代码实现了预期的功能
- [ ] 边界条件已处理
- [ ] 错误处理完善
- [ ] 无逻辑错误
- [ ] 无潜在的 bug

### 2. 代码质量

- [ ] 代码符合编码规范
- [ ] 命名清晰有意义
- [ ] 代码结构清晰
- [ ] 无重复代码
- [ ] 代码简洁易懂

### 3. Skills 规范检查

- [ ] 所有 error 多行处理并记录日志
- [ ] 集合操作使用 candy 库（无手动 for 循环）
- [ ] 字符串转换使用 stringx 库
- [ ] 文件检查使用 osx 库
- [ ] 命名符合规范（Id/Uid/IsActive/CreatedAt）
- [ ] 没有使用 context.Context
- [ ] 没有使用 Repository 接口

### 4. 测试覆盖

- [ ] 单元测试覆盖关键逻辑
- [ ] 集成测试覆盖关键流程
- [ ] 测试用例充分
- [ ] 测试代码质量高
- [ ] 无测试失败

### 5. 性能考虑

- [ ] 无性能瓶颈
- [ ] 内存使用合理
- [ ] 无不必要的分配
- [ ] 并发安全
- [ ] 数据库查询优化

### 6. 安全性

- [ ] 无 SQL 注入风险
- [ ] 无 XSS 风险
- [ ] 无 CSRF 风险
- [ ] 敏感信息加密
- [ ] 访问控制完善

## 运行命令

```bash
gofmt -l .
goimports -l .
go vet ./...
golangci-lint run
go test -v -race -cover ./...
```

## 输出格式

```markdown
## 审查结果

### 问题

1. **问题描述**
   - 位置：file.go:123
   - 建议：修复方案

### 建议

1. 优化建议

### 结论

- [ ] 通过
- [ ] 需要修改
```
