# Hooks 系统

Memory 插件的 Hooks 自动化系统。

## Hook 事件

| Hook | 操作 |
|------|------|
| SessionStart | 加载核心记忆 |
| PreToolUse | 智能预加载 |
| PostToolUse | 自动记录操作 |
| Stop | 检查未保存内容 |
| SessionEnd | 保存会话摘要 |

## SessionStart

### 功能

会话开始时自动加载核心记忆。

### 操作

1. 加载优先级 0-2 的记忆
2. 初始化记忆索引
3. 恢复上次会话状态

## PreToolUse

### 功能

工具使用前智能预加载相关记忆。

### 操作

1. 分析工具类型
2. 预加载相关记忆
3. 提供上下文信息

## PostToolUse

### 功能

工具使用后自动记录操作。

### 操作

1. 记录操作内容
2. 更新相关记忆
3. 维护操作历史

## Stop

### 功能

会话停止时检查未保存内容。

### 操作

1. 检查未保存的记忆
2. 提示用户保存
3. 自动保存重要内容

## SessionEnd

### 功能

会话结束时保存会话摘要。

### 操作

1. 生成会话摘要
2. 保存到系统记忆
3. 清理临时记忆
