---
description: 手动设置项目版本号
argument-hint: "<version>"
allowed-tools: Bash(uv*,*/version.py)
---

# set

## 命令描述

手动设置项目的版本号到指定值。用于初始化版本、修正版本号或特殊场景下的版本调整。

## 工作流描述

1. **验证版本格式**：确认输入的版本号格式有效
2. **规范化版本**：确保版本号有 4 个部分 (Major.Minor.Patch.Build)
3. **读取当前版本**：获取要替换的版本号
4. **写入新版本**：更新 `.version` 文件
5. **显示结果**：输出更新前后的版本对比

## 使用方法

```bash
/version set <version>
```

## 版本号格式

支持以下格式（会自动补全至 4 部分）：

- `1` → `1.0.0.0`
- `1.0` → `1.0.0.0`
- `1.0.0` → `1.0.0.0`
- `1.0.0.0` → `1.0.0.0`

## 示例

```bash
# 设置初始版本
/version set 1.0.0.0
# 输出: ✓ 版本已设置: 0.0.1.0 → 1.0.0.0

# 修正版本号
/version set 2.1.3.5
# 输出: ✓ 版本已设置: 1.0.0.0 → 2.1.3.5

# 简化格式设置
/version set 2.0
# 输出: ✓ 版本已设置: 2.1.3.5 → 2.0.0.0
```

## 相关命令

- `/version show` - 显示当前版本
- `/version info` - 显示版本详情
- `/version bump` - 自动更新版本号
- `/version init` - 初始化版本文件

## 相关 Skills

- `@${CLAUDE_PLUGIN_ROOT}/skills/version/SKILL.md` - 版本号管理最佳实践

## 注意事项

- **手动操作**：版本号由用户完全控制，需要确保版本号的合理性
- **版本验证**：建议在设置版本前检查项目的版本历史
- **Git 同步**：设置版本号后需要手动提交到 Git
- **规范遵循**：建议遵循 Semantic Versioning 标准

## 执行时机

- 项目首次使用版本管理，需要设定初始版本
- 版本号错误需要手动纠正
- 版本管理迁移时的版本号设置
- 特殊发布需求的版本号调整
